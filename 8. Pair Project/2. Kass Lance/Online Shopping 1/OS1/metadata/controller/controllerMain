{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "controllerMain",
        "id": "controllerMain"
    },
    "designerId": "5ce3743e-900f-4100-aa38-81284ce3e134",
    "cn": [
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btnLogin",
                "designer|targetType": "Ext.button.Button",
                "fn": "onBtnLoginClick",
                "implHandler": [
                    "if (button) {\r",
                    "    var form1 = Ext.getCmp('formLogin');\r",
                    "    var store = Ext.getStore('Users');\r",
                    "    var username = Ext.getCmp('loginEmail').value;\r",
                    "    var password = Ext.getCmp('loginPassword').value;\r",
                    "    var listUsers = store.data.items;\r",
                    "    var scope = this;\r",
                    "\r",
                    "    var storeActive = Ext.getStore('Active');\r",
                    "    var objUser = [{username:username}];\r",
                    "\r",
                    "    storeActive.add(objUser);\r",
                    "    Ext.each(listUsers, function(x){\r",
                    "        if (x.data.Email === username && x.data.Password === password){\r",
                    "            Ext.MessageBox.show({\r",
                    "            title: 'Login',\r",
                    "            msg: 'Welcome ' + x.data.FirstName + '!',\r",
                    "            buttons: Ext.MessageBox.OK,\r",
                    "            fn: function(btn){\r",
                    "                if(btn=='OK'){\r",
                    "                    scope.hide();\r",
                    "                }\r",
                    "            }\r",
                    "        });\r",
                    "\r",
                    "            }\r",
                    "    });\r",
                    "\r",
                    "    form1.form.reset(true);\r",
                    "}"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "f48f1edb-de5a-42a2-bcff-d8876f40d7a8"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btnSignup",
                "designer|targetType": "Ext.button.Button",
                "fn": "onBtnSignupClick",
                "implHandler": [
                    "if (button){\r",
                    "    var form1 = Ext.getCmp('formSignup');\r",
                    "    var store = Ext.getStore('Users');\r",
                    "    var fname = Ext.getCmp('signupFname').value;\r",
                    "    var lname = Ext.getCmp('signupLname').value;\r",
                    "    var birthdate = Ext.getCmp('signupBdate').value;\r",
                    "    var address = Ext.getCmp('signupAddress').value;\r",
                    "    var city = Ext.getCmp('signupCity').value;\r",
                    "    var country = Ext.getCmp('signupCountry').value;\r",
                    "    var email = Ext.getCmp('signupEmail').value;\r",
                    "    var password = Ext.getCmp('signupPassword').value;\r",
                    "\r",
                    "    var objectUser = [{FirstName: fname, LastName: lname, Birthdate: birthdate, Address: address, City: city, Country:country, Email: email, Password: password}];\r",
                    "\r",
                    "    store.add(objectUser);\r",
                    "\r",
                    "    var userName = Ext.getCmp('signupFname').value;\r",
                    "     Ext.MessageBox.show({\r",
                    "           msg: 'Saving your data, please wait...',\r",
                    "           progressText: 'Saving...',\r",
                    "           width:300,\r",
                    "           wait:true,\r",
                    "           waitConfig: {interval:200},\r",
                    "           icon:'ext-mb-download', //custom class in msg-box.html\r",
                    "           iconHeight: 50,\r",
                    "           animateTarget: 'register'\r",
                    "       });\r",
                    "            setTimeout(function(){\r",
                    "            //This simulates a long-running operation like a database save or XHR call.\r",
                    "            //In real code, this would be in a callback function.\r",
                    "            Ext.MessageBox.hide();\r",
                    "            Ext.MessageBox.show({\r",
                    "            title: 'User Registration',\r",
                    "            msg: 'User \"' + userName + '\" successfully registered!',\r",
                    "            buttons: Ext.MessageBox.OK\r",
                    "        });\r",
                    "        }, 5000);\r",
                    "\r",
                    "   form1.form.reset(true);\r",
                    "\r",
                    "}"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "5a3643da-bc5b-4015-a634-6d0b66b783c5"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btnSearch",
                "designer|targetType": "Ext.button.Button",
                "fn": "onBtnSearchClick",
                "implHandler": [
                    "var store1 = Ext.getStore('Products');\r",
                    "var product = Ext.getCmp('searchBar').value;\r",
                    "var listProducts = store1.data.items;\r",
                    "\r",
                    "  Ext.each(listProducts, function(x){\r",
                    "        if (x.data.ProductName === product){\r",
                    "            Ext.MessageBox.show({\r",
                    "            title: 'Login',\r",
                    "            msg: 'Welcome ' + x.data.FirstName + '!',\r",
                    "            buttons: Ext.MessageBox.OK,\r",
                    "            fn: function(btn){\r",
                    "                if(btn=='OK'){\r",
                    "                    scope.hide();\r",
                    "                }\r",
                    "            }\r",
                    "        });\r",
                    "\r",
                    "            }\r",
                    "    });"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "6b1dcd70-110c-413d-84e2-04639f6ea02f"
        }
    ]
}